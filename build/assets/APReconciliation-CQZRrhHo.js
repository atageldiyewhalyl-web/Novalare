import{E as Qe,r as o,p as u,b as g,t as c,j as e,X as Ze,F as W,a as p,D as X,d as S,U as fe,C as q,k as Q,T as et,a5 as be,h as tt,m as st,W as rt}from"./index-DrBwAU1T.js";import{C as x,b as w,c as k,d as $,a as h}from"./card-Cmu1fk5m.js";import{B as M}from"./badge-BVkw5bJj.js";import{T as at,a as it,b as Z,c as ee}from"./tabs-B1Vb_bsc.js";import{A as te,a as se}from"./alert-C2ImY4gp.js";import{P as nt}from"./ProcessingStages-Bs-T1hmG.js";import{S as Ne,a as we,b as ke,c as ve,d as ze}from"./select-BpfYsr0G.js";import{c as lt}from"./api-client-BUzUkZPR.js";import{B as ct}from"./building-Cu8HYSb7.js";import{B as re}from"./book-open-BQfJsvX3.js";import{G as ot}from"./git-compare-CNnYWnbh.js";import{L as U}from"./lock-D9w-vkY7.js";import{E as Ae}from"./eye-_8xTnK9v.js";import{T as Se}from"./trash-2-CxXCVqKn.js";import{C as dt}from"./circle-play-HhkG6Ukj.js";import{L as mt}from"./lock-open-D03z0CjY.js";import"./DevPortal--LMNXygJ.js";import"./index-BSRUjdZ4.js";function Rt(){const{theme:t}=Qe(),[D,$e]=o.useState([]),[l,ae]=o.useState(""),[n,ie]=o.useState(""),[Ce,ne]=o.useState(!0),[R,O]=o.useState([]),[b,J]=o.useState([]),[le,ce]=o.useState(!1),[Le,oe]=o.useState(!1),[xt,de]=o.useState(!1),[C,Pe]=o.useState(null),[v,Ue]=o.useState([]),[me,xe]=o.useState(!1),[De,he]=o.useState(!1),[i,_]=o.useState(null),[E,pe]=o.useState(!1),[Y,Re]=o.useState(null),[G,Fe]=o.useState(!1),[T,I]=o.useState(!1),[ue,ge]=o.useState(!1),[_e,ye]=o.useState("vendor-statements"),[y,Ee]=o.useState(!1),[ht,Te]=o.useState(null),[pt,ut]=o.useState(!1),V=o.useRef(null),B=o.useRef(null),N=o.useRef(!0),L=s=>s.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),Ie=()=>{const s=[],r=new Date;for(let a=0;a<12;a++){const d=new Date(r.getFullYear(),r.getMonth()-a,1),m=d.getFullYear(),z=(d.getMonth()+1).toString().padStart(2,"0"),j=`${m}-${z}`,f=d.toLocaleDateString("en-US",{month:"long",year:"numeric"});s.push({value:j,label:f})}return s};o.useEffect(()=>{N.current=!0,Be();const s=new Date,r=s.getFullYear(),a=(s.getMonth()+1).toString().padStart(2,"0");return ie(`${r}-${a}`),()=>{N.current=!1}},[]),o.useEffect(()=>{l&&n&&(Ve(),K(),je(),Me())},[l,n]);const Ve=async()=>{if(!(!l||!n))try{const s=await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/month-close/status?companyId=${l}&period=${n}`,{headers:{Authorization:`Bearer ${g}`}});if(s.ok){const r=await s.json();Ee(r.isLocked||!1),Te(r.isLocked?r:null),console.log("Period lock status:",r)}}catch(s){console.error("Failed to load lock status:",s)}},Be=async()=>{try{ne(!0);const s=await lt.getAll();$e(s);const r=s.find(a=>a.status==="Active");r&&ae(r.id)}catch(s){console.error("Failed to load companies:",s),c.error("Failed to load companies")}finally{ne(!1)}},K=async()=>{if(!(!l||!n))try{oe(!0);const s=await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/ap-rec/vendor-statements?companyId=${l}&period=${n}`,{headers:{Authorization:`Bearer ${g}`}});if(s.ok){const r=await s.json();N.current&&(O(r.statements||[]),J(r.transactions||[]))}else s.status===404&&N.current&&(O([]),J([]))}catch{N.current&&(O([]),J([]))}finally{N.current&&oe(!1)}},je=async()=>{if(!(!l||!n))try{he(!0);const s=await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/ap-rec/ap-ledger?companyId=${l}&period=${n}`,{headers:{Authorization:`Bearer ${g}`}});if(s.ok){const r=await s.json();N.current&&(Pe(r.ledger||null),Ue(r.entries||[]))}}catch(s){console.error("Error loading AP ledger:",s)}finally{N.current&&he(!1)}},Me=async()=>{if(!(!l||!n))try{console.log("ðŸ“‚ Loading reconciliation data for",l,n);const s=await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/ap-reconciliation?companyId=${l}&period=${n}`,{headers:{Authorization:`Bearer ${g}`}});if(s.ok){const r=await s.json();console.log("âœ… Loaded reconciliation data:",r),N.current&&r.reconciliation?(_(r.reconciliation),console.log("âœ… Set reconciliation result with",r.reconciliation.matched_pairs?.length||0,"matches")):console.log("â„¹ï¸ No reconciliation data found")}else console.log("âš ï¸ Response not OK:",s.status)}catch(s){console.error("Error loading reconciliation:",s)}},Oe=async s=>{const r=s.target.files;if(!r||r.length===0||!l||!n)return;ce(!0);const a=r.length,d=c.info(`Uploading ${a} ${a===1?"statement":"statements"}...`);try{let m=0,z=0;const j=[];for(let f=0;f<r.length;f++){const P=r[f];c.info(`Processing ${f+1}/${a}: ${P.name}`,{id:d});try{const A=new FormData;A.append("file",P),A.append("companyId",l),A.append("period",n);const H=await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/ap-rec/upload-vendor-statement`,{method:"POST",headers:{Authorization:`Bearer ${g}`},body:A});if(H.ok){const F=await H.json();console.log(`âœ… Upload successful for ${P.name}:`,F),m++,z+=F.transactionCount||0}else{const F=await H.json().catch(()=>({error:"Unknown error"}));console.error(`âŒ Upload failed for ${P.name}:`,F),j.push(`${P.name}: ${F.details||F.error}`)}}catch(A){console.error(`âŒ Upload error for ${P.name}:`,A),j.push(`${P.name}: ${A instanceof Error?A.message:"Unknown error"}`)}}c.dismiss(d),m===a?c.success(`âœ… Successfully uploaded ${a} ${a===1?"statement":"statements"} with ${z} transactions!`):m>0?(c.warning(`âš ï¸ Uploaded ${m}/${a} statements. ${j.length} failed.`),j.forEach(f=>c.error(f,{duration:5e3}))):(c.error("âŒ All uploads failed"),j.forEach(f=>c.error(f,{duration:5e3}))),await K()}catch(m){console.error("âŒ Batch upload error:",m),c.error(`Upload failed: ${m instanceof Error?m.message:"Unknown error"}`)}finally{ce(!1),V.current&&(V.current.value="")}},Je=async s=>{const r=s.target.files?.[0];if(!(!r||!l||!n)){xe(!0);try{const a=new FormData;a.append("file",r),a.append("companyId",l),a.append("period",n);const d=await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/ap-rec/upload-ap-ledger`,{method:"POST",headers:{Authorization:`Bearer ${g}`},body:a});if(d.ok){const m=await d.json();c.success(`âœ… Uploaded ${m.entryCount} entries from AP ledger`),await je()}else{const m=await d.json().catch(()=>({error:"Unknown error"}));c.error(`Failed to upload AP ledger: ${m.details||m.error}`),console.error("Upload error:",m)}}catch(a){console.error("Upload error:",a),c.error(`Failed to upload AP ledger: ${a instanceof Error?a.message:"Unknown error"}`)}finally{xe(!1),B.current&&(B.current.value="")}}},Ye=async s=>{if(!(!l||!n))try{(await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/ap-rec/vendor-statement/${s}?companyId=${l}&period=${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${g}`}})).ok?(c.success("Vendor statement deleted"),await K()):c.error("Failed to delete vendor statement")}catch(r){console.error("Delete error:",r),c.error("Failed to delete vendor statement")}},Ge=async()=>{if(!(!l||!n)){if(b.length===0||v.length===0){c.error("Please upload both vendor statements and AP ledger before reconciling");return}pe(!0);try{const s=await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/run-ap-reconciliation`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({companyId:l,period:n})});if(s.ok){const r=await s.json();_(r.reconciliation),c.success("AP reconciliation completed successfully"),ye("reconciliation")}else{const r=await s.text();c.error("Failed to run reconciliation"),console.error(r)}}catch(s){console.error("Reconciliation error:",s),c.error("Failed to run reconciliation")}finally{pe(!1)}}},Ke=async()=>{if(!i){c.error("No reconciliation to save");return}I(!0);try{const s=await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/ap-rec/lock-reconciliation`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({company_id:l,period:n})});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to save reconciliation")}const r=await s.json();_(r.reconciliation),c.success("AP Reconciliation saved and locked successfully!")}catch(s){const r=s.message||"Failed to save reconciliation";c.error(r),console.error("Lock reconciliation error:",s)}finally{I(!1)}},He=async()=>{if(!i){c.error("No reconciliation to unlock");return}I(!0);try{const s=await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/ap-rec/unlock-reconciliation`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({company_id:l,period:n})});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to unlock reconciliation")}const r=await s.json();_(r.reconciliation),c.success("AP Reconciliation unlocked. You can now update it.")}catch(s){const r=s.message||"Failed to unlock reconciliation";c.error(r),console.error("Unlock reconciliation error:",s)}finally{I(!1)}},We=async()=>{if(!(!i||!l||!n)){ge(!0);try{const s=await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/export-ap-reconciliation`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({companyId:l,period:n,result:i})});if(s.ok){const r=await s.blob(),a=window.URL.createObjectURL(r),d=document.createElement("a");d.href=a;const z=`AP_Reconciliation_${D.find(j=>j.id===l)?.name||"Company"}_${n}.xlsx`;d.download=z,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(a),document.body.removeChild(d),c.success("Reconciliation exported successfully")}else c.error("Failed to export reconciliation")}catch(s){console.error("Export error:",s),c.error("Failed to export reconciliation")}finally{ge(!1)}}},Xe=async()=>{if(!(!l||!n||b.length===0)){de(!0);try{const s=await fetch(`https://${u}.supabase.co/functions/v1/make-server-53c2e113/export-vendor-statements`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({companyId:l,period:n,statements:R,transactions:b})});if(s.ok){const r=await s.blob(),a=window.URL.createObjectURL(r),d=document.createElement("a");d.href=a;const z=`Vendor_Statements_${D.find(j=>j.id===l)?.name||"Company"}_${n}.xlsx`;d.download=z,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(a),document.body.removeChild(d),c.success("Vendor statements exported successfully")}else c.error("Failed to export vendor statements")}catch(s){console.error("Export error:",s),c.error("Failed to export vendor statements")}finally{de(!1)}}},qe=Ie();return D.find(s=>s.id===l),e.jsxs("div",{className:"space-y-10 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:t==="premium-dark"?"text-4xl tracking-tight text-white":"text-4xl tracking-tight text-gray-900",children:"AP Reconciliation"}),e.jsx("p",{className:t==="premium-dark"?"text-purple-300/40 text-sm mt-2":"text-gray-400 text-sm mt-2",children:"Match vendor statements with AP ledger entries using AI"})]})}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsxs(Ne,{value:l,onValueChange:ae,disabled:Ce,children:[e.jsx(we,{className:t==="premium-dark"?"bg-white/[0.03] border-white/10 text-white hover:bg-white/[0.05] h-11 rounded-xl":"bg-white border-gray-200 text-gray-900 hover:bg-gray-50 h-11 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:t==="premium-dark"?"size-4 text-purple-300/40":"size-4 text-gray-400"}),e.jsx(ke,{placeholder:"Select a company"})]})}),e.jsx(ve,{children:D.map(s=>e.jsxs(ze,{value:s.id,children:[s.name," (",s.country,")"]},s.id))})]})}),e.jsx("div",{className:"flex-1",children:e.jsxs(Ne,{value:n,onValueChange:ie,children:[e.jsx(we,{className:t==="premium-dark"?"bg-white/[0.03] border-white/10 text-white hover:bg-white/[0.05] h-11 rounded-xl":"bg-white border-gray-200 text-gray-900 hover:bg-gray-50 h-11 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:t==="premium-dark"?"size-4 text-purple-300/40":"size-4 text-gray-400"}),e.jsx(ke,{placeholder:"Select period"})]})}),e.jsx(ve,{children:qe.map(s=>e.jsx(ze,{value:s.value,children:s.label},s.value))})]})})]}),l&&n?e.jsxs(at,{value:_e,onValueChange:ye,children:[e.jsxs(it,{className:t==="premium-dark"?"grid w-full grid-cols-3 h-auto p-1 bg-white/[0.03] border border-white/5":"grid w-full grid-cols-3 h-auto p-1",children:[e.jsxs(Z,{value:"vendor-statements",className:"gap-2 py-3",children:[e.jsx(W,{className:"size-4"}),"Vendor Statements"]}),e.jsxs(Z,{value:"ap-ledger",className:"gap-2 py-3",children:[e.jsx(re,{className:"size-4"}),"AP Ledger"]}),e.jsxs(Z,{value:"reconciliation",className:"gap-2 py-3",children:[e.jsx(ot,{className:"size-4"}),"Reconciliation"]})]}),e.jsxs(ee,{value:"vendor-statements",className:"space-y-6",children:[(y||i?.locked)&&e.jsxs(te,{className:t==="premium-dark"?"bg-white/[0.03] border-white/10":"bg-gray-50 border-gray-200",children:[e.jsx(U,{className:t==="premium-dark"?"size-4 text-white":"size-4 text-gray-600"}),e.jsxs(se,{className:t==="premium-dark"?"text-gray-400":"text-gray-700",children:["Uploads are locked for ",n,". Unlock the reconciliation to upload more vendor statements."]})]}),e.jsxs(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/5 rounded-2xl":"bg-white border-gray-100 rounded-2xl",children:[e.jsx(w,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsxs(k,{className:t==="premium-dark"?"flex items-center gap-2 text-white":"flex items-center gap-2",children:["Upload Vendor Statements",i?.locked&&e.jsxs(M,{variant:"secondary",className:t==="premium-dark"?"bg-white/[0.05] text-gray-400 gap-1 border-0":"bg-gray-100 text-gray-600 gap-1",children:[e.jsx(U,{className:"size-3"}),"Locked"]})]}),e.jsx($,{className:t==="premium-dark"?"text-gray-400":"",children:"Upload PDFs, CSV, or Excel files â€“ AI will automatically extract all transactions"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[b.length>0&&e.jsxs(p,{variant:"outline",onClick:Xe,className:t==="premium-dark"?"gap-2 bg-white/[0.03] border-white/10 text-white hover:bg-white/[0.05]":"gap-2",children:[e.jsx(X,{className:"size-4"}),"Export"]}),e.jsx(p,{onClick:()=>V.current?.click(),disabled:le||y||i?.locked,className:t==="premium-dark"?"gap-2 bg-white text-black hover:bg-white/90 rounded-full":"gap-2 bg-black text-white hover:bg-gray-900 rounded-full",children:le?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"size-4 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"size-4"}),"Upload Statement"]})}),e.jsx("input",{ref:V,type:"file",accept:".pdf,.csv,.xlsx,.xls",onChange:Oe,className:"hidden",multiple:!0,disabled:i?.locked??!1})]})]})}),e.jsx(h,{children:Le?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(S,{className:t==="premium-dark"?"size-8 animate-spin text-purple-400 mx-auto mb-3":"size-8 animate-spin text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:t==="premium-dark"?"text-gray-400":"text-gray-500",children:"Loading vendor statements..."})]}):R.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(W,{className:t==="premium-dark"?"size-12 text-white/20 mx-auto mb-3":"size-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:t==="premium-dark"?"text-gray-400":"text-gray-500",children:"No vendor statements uploaded yet."}),e.jsx("p",{className:t==="premium-dark"?"text-sm text-gray-500 mt-1":"text-sm text-gray-400 mt-1",children:"Upload your first vendor statement to get started."})]}):e.jsx("div",{className:"space-y-4",children:R.map(s=>e.jsxs("div",{className:t==="premium-dark"?"flex items-center justify-between p-4 border border-white/10 rounded-lg bg-white/[0.03] hover:bg-white/[0.05] transition-colors":"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-white hover:border-gray-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:t==="premium-dark"?"size-10 rounded-lg bg-white/[0.05] border border-white/10 flex items-center justify-center":"size-10 rounded-lg bg-gray-50 flex items-center justify-center",children:e.jsx(W,{className:t==="premium-dark"?"size-5 text-white":"size-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:t==="premium-dark"?"text-sm text-white":"text-sm text-gray-900",children:s.fileName}),e.jsxs("p",{className:t==="premium-dark"?"text-xs text-gray-400":"text-xs text-gray-500",children:[s.transactionCount," transactions â€¢ ",new Date(s.uploadedAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(p,{variant:"ghost",size:"sm",className:"gap-2",children:[e.jsx(Ae,{className:"size-4"}),"View"]}),e.jsxs(p,{variant:"ghost",size:"sm",className:"gap-2 text-red-600 hover:text-red-700",onClick:()=>Ye(s.id),disabled:y,children:[e.jsx(Se,{className:"size-4"}),"Delete"]})]})]},s.id))})})]}),b.length>0&&e.jsx("div",{className:"space-y-6",children:R.map(s=>{const r=b.filter(a=>a.statementId===s.id);return e.jsxs(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/5 rounded-2xl":"bg-white border-gray-100 rounded-2xl",children:[e.jsx(w,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(k,{className:t==="premium-dark"?"text-base text-white":"text-base",children:s.fileName}),e.jsxs($,{className:t==="premium-dark"?"text-gray-400":"",children:[r.length," transactions â€¢ Uploaded ",new Date(s.uploadedAt).toLocaleDateString()]})]})})}),e.jsx(h,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:t==="premium-dark"?"bg-white/[0.02] border-b border-white/5":"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Date"}),e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Description"}),e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Amount"}),e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Balance"})]})}),e.jsx("tbody",{children:r.map(a=>e.jsxs("tr",{className:t==="premium-dark"?"border-b border-white/5 hover:bg-white/[0.02]":"border-b hover:bg-gray-50",children:[e.jsx("td",{className:t==="premium-dark"?"py-3 px-6 text-sm text-gray-400":"py-3 px-6 text-sm text-gray-600",children:a.date}),e.jsx("td",{className:t==="premium-dark"?"py-3 px-6 text-sm text-white":"py-3 px-6 text-sm text-gray-900",children:a.description}),e.jsxs("td",{className:t==="premium-dark"?"py-3 px-6 text-sm font-medium text-white":"py-3 px-6 text-sm font-medium text-gray-900",children:["â‚¬",L(Math.abs(a.amount))]}),e.jsx("td",{className:t==="premium-dark"?"py-3 px-6 text-sm text-gray-400":"py-3 px-6 text-sm text-gray-600",children:a.balance?`â‚¬${L(a.balance)}`:"-"})]},a.id))})]})})})]},s.id)})})]}),e.jsxs(ee,{value:"ap-ledger",className:"space-y-6",children:[(y||i?.locked)&&e.jsxs(te,{className:t==="premium-dark"?"bg-white/[0.03] border-white/10":"bg-gray-50 border-gray-200",children:[e.jsx(U,{className:t==="premium-dark"?"size-4 text-white":"size-4 text-gray-600"}),e.jsxs(se,{className:t==="premium-dark"?"text-gray-400":"text-gray-700",children:["Uploads are locked for ",n,". Unlock the reconciliation to upload or modify the AP ledger."]})]}),e.jsxs(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/5 rounded-2xl":"bg-white border-gray-100 rounded-2xl",children:[e.jsx(w,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsxs(k,{className:t==="premium-dark"?"flex items-center gap-2 text-white":"flex items-center gap-2",children:["Upload AP Ledger",i?.locked&&e.jsxs(M,{variant:"secondary",className:t==="premium-dark"?"bg-white/[0.05] text-gray-400 gap-1 border-0":"bg-gray-100 text-gray-600 gap-1",children:[e.jsx(U,{className:"size-3"}),"Locked"]})]}),e.jsx($,{className:t==="premium-dark"?"text-gray-400":"",children:"Upload your internal AP ledger â€“ AI will extract the information and list them here"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[v.length>0&&e.jsxs(p,{variant:"outline",className:t==="premium-dark"?"gap-2 bg-white/[0.03] border-white/10 text-white hover:bg-white/[0.05]":"gap-2",children:[e.jsx(X,{className:"size-4"}),"Export"]}),e.jsx(p,{onClick:()=>B.current?.click(),disabled:me||y||i?.locked,className:t==="premium-dark"?"gap-2 bg-white text-black hover:bg-white/90 rounded-full":"gap-2 bg-black text-white hover:bg-gray-900 rounded-full",children:me?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"size-4 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"size-4"}),C?"Replace Ledger":"Upload AP Ledger"]})}),e.jsx("input",{ref:B,type:"file",accept:".csv,.xlsx,.xls",onChange:Je,className:"hidden",disabled:i?.locked??!1})]})]})}),e.jsx(h,{children:De?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(S,{className:t==="premium-dark"?"size-8 animate-spin text-purple-400 mx-auto mb-3":"size-8 animate-spin text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:t==="premium-dark"?"text-gray-400":"text-gray-500",children:"Loading AP ledger..."})]}):C?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:t==="premium-dark"?"flex items-center justify-between p-4 border border-white/10 rounded-lg bg-white/[0.03]":"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:t==="premium-dark"?"size-10 rounded-lg bg-white/[0.05] border border-white/10 flex items-center justify-center":"size-10 rounded-lg bg-gray-50 flex items-center justify-center",children:e.jsx(re,{className:t==="premium-dark"?"size-5 text-white":"size-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:t==="premium-dark"?"text-sm text-white":"text-sm text-gray-900",children:C.fileName}),e.jsxs("p",{className:t==="premium-dark"?"text-xs text-gray-400":"text-xs text-gray-500",children:[C.entryCount," entries â€¢ ",new Date(C.uploadedAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(p,{variant:"ghost",size:"sm",className:"gap-2",children:[e.jsx(Ae,{className:"size-4"}),"View"]}),e.jsxs(p,{variant:"ghost",size:"sm",className:"gap-2 text-red-600 hover:text-red-700",disabled:i?.locked??!1,children:[e.jsx(Se,{className:"size-4"}),"Delete"]})]})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(re,{className:t==="premium-dark"?"size-12 text-white/20 mx-auto mb-3":"size-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:t==="premium-dark"?"text-gray-400":"text-gray-500",children:"No AP ledger uploaded yet."}),e.jsx("p",{className:t==="premium-dark"?"text-sm text-gray-500 mt-1":"text-sm text-gray-400 mt-1",children:"Upload your AP ledger to continue with reconciliation."})]})})]}),v.length>0&&e.jsxs(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/5 rounded-2xl":"bg-white border-gray-100 rounded-2xl",children:[e.jsx(w,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(k,{className:t==="premium-dark"?"text-white":"",children:"All AP Ledger Entries"}),e.jsxs($,{className:t==="premium-dark"?"text-gray-400":"",children:[v.length," entries"]})]})})}),e.jsx(h,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:t==="premium-dark"?"bg-white/[0.02] border-b border-white/5":"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Date"}),e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Description"}),e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Amount"}),e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Account"})]})}),e.jsx("tbody",{children:v.map(s=>e.jsxs("tr",{className:t==="premium-dark"?"border-b border-white/5 hover:bg-white/[0.02]":"border-b hover:bg-gray-50",children:[e.jsx("td",{className:t==="premium-dark"?"py-3 px-6 text-sm text-gray-400":"py-3 px-6 text-sm text-gray-600",children:s.date}),e.jsx("td",{className:t==="premium-dark"?"py-3 px-6 text-sm text-white":"py-3 px-6 text-sm text-gray-900",children:s.description}),e.jsxs("td",{className:t==="premium-dark"?"py-3 px-6 text-sm font-medium text-white":"py-3 px-6 text-sm font-medium text-gray-900",children:[s.amount<0&&"âˆ’","â‚¬",L(Math.abs(s.amount))]}),e.jsx("td",{className:t==="premium-dark"?"py-3 px-6 text-sm text-gray-400":"py-3 px-6 text-sm text-gray-500",children:s.account||"â€”"})]},s.id))})]})})})]})]}),e.jsxs(ee,{value:"reconciliation",className:"space-y-6",children:[y&&e.jsxs(te,{className:"bg-gray-900 border-gray-800",children:[e.jsx(U,{className:"size-4 text-white"}),e.jsxs(se,{className:"text-white",children:[e.jsx("strong",{children:"Period is locked."})," This period has been closed and locked. You cannot run or update the reconciliation while the period is locked."]})]}),e.jsxs(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/5 rounded-2xl":"bg-white border-gray-100 rounded-2xl",children:[e.jsxs(w,{children:[e.jsx(k,{className:t==="premium-dark"?"text-white":"",children:"Run Reconciliation"}),e.jsx($,{className:t==="premium-dark"?"text-gray-400":"",children:"Automatically match vendor statement transactions with AP ledger entries"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:t==="premium-dark"?"p-5 bg-white/[0.02] border border-white/5 rounded-2xl":"p-5 bg-gray-50/50 border border-gray-100 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:t==="premium-dark"?"text-sm text-purple-300/40":"text-sm text-gray-400",children:"Vendor Statements"}),R.length>0&&b.length>0&&e.jsx(q,{className:t==="premium-dark"?"size-4 text-white":"size-4 text-gray-600"})]}),e.jsx("p",{className:t==="premium-dark"?"text-3xl text-white tracking-tight":"text-3xl text-gray-900 tracking-tight",children:R.length}),e.jsxs("p",{className:t==="premium-dark"?"text-xs text-purple-300/30 mt-1":"text-xs text-gray-400 mt-1",children:[b.length," transactions"]})]}),e.jsxs("div",{className:t==="premium-dark"?"p-5 bg-white/[0.02] border border-white/5 rounded-2xl":"p-5 bg-gray-50/50 border border-gray-100 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:t==="premium-dark"?"text-sm text-purple-300/40":"text-sm text-gray-400",children:"AP Ledger"}),C&&v.length>0&&e.jsx(q,{className:t==="premium-dark"?"size-4 text-white":"size-4 text-gray-600"})]}),e.jsx("p",{className:t==="premium-dark"?"text-3xl text-white tracking-tight":"text-3xl text-gray-900 tracking-tight",children:C?1:0}),e.jsxs("p",{className:t==="premium-dark"?"text-xs text-purple-300/30 mt-1":"text-xs text-gray-400 mt-1",children:[v.length," entries"]})]})]}),e.jsx(p,{onClick:Ge,disabled:E||b.length===0||v.length===0||y||i?.locked,className:t==="premium-dark"?"w-full gap-2 h-12 bg-white text-black hover:bg-white/90 rounded-full":"w-full gap-2 h-12 bg-black text-white hover:bg-gray-900 rounded-full",size:"lg",children:E?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"size-5 animate-spin"}),"Running Reconciliation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(dt,{className:"size-5"}),i?.locked?"Reconciliation Locked":y?"Period Locked":"Run Reconciliation"]})})]})]}),E&&e.jsx(x,{children:e.jsx(h,{className:"py-12",children:e.jsx(nt,{type:"ap-rec"})})}),i&&!E&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/5 rounded-2xl":"bg-white border-gray-100 rounded-2xl",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:t==="premium-dark"?"text-sm text-purple-300/40":"text-sm text-gray-400",children:"Matched"}),e.jsx("p",{className:t==="premium-dark"?"text-3xl text-white mt-1 tracking-tight":"text-3xl text-gray-900 mt-1 tracking-tight",children:i.summary.matched_count})]}),e.jsx("div",{className:t==="premium-dark"?"h-12 w-12 rounded-full bg-violet-500/10 flex items-center justify-center":"h-12 w-12 rounded-full bg-violet-50 flex items-center justify-center",children:e.jsx(q,{className:"size-6 text-violet-600"})})]})})}),e.jsx(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/5 rounded-2xl":"bg-white border-gray-100 rounded-2xl",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:t==="premium-dark"?"text-sm text-purple-300/40":"text-sm text-gray-400",children:"Unmatched Vendor"}),e.jsx("p",{className:t==="premium-dark"?"text-3xl text-white mt-1 tracking-tight":"text-3xl text-gray-900 mt-1 tracking-tight",children:i.summary.unmatched_vendor_count})]}),e.jsx("div",{className:t==="premium-dark"?"h-12 w-12 rounded-full bg-white/5 flex items-center justify-center":"h-12 w-12 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(Q,{className:t==="premium-dark"?"size-6 text-white/30":"size-6 text-gray-500"})})]})})}),e.jsx(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/5 rounded-2xl":"bg-white border-gray-100 rounded-2xl",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:t==="premium-dark"?"text-sm text-purple-300/40":"text-sm text-gray-400",children:"Unmatched AP"}),e.jsx("p",{className:t==="premium-dark"?"text-3xl text-white mt-1 tracking-tight":"text-3xl text-gray-900 mt-1 tracking-tight",children:i.summary.unmatched_ap_count})]}),e.jsx("div",{className:t==="premium-dark"?"h-12 w-12 rounded-full bg-white/5 flex items-center justify-center":"h-12 w-12 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(Q,{className:t==="premium-dark"?"size-6 text-white/30":"size-6 text-gray-500"})})]})})}),e.jsx(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/5 rounded-2xl":"bg-white border-gray-100 rounded-2xl",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:t==="premium-dark"?"text-sm text-purple-300/40":"text-sm text-gray-400",children:"Match Rate"}),e.jsxs("p",{className:"text-3xl text-violet-500 mt-1 tracking-tight",children:[i.summary?.match_rate.toFixed(1)??0,"%"]})]}),e.jsx("div",{className:t==="premium-dark"?"h-12 w-12 rounded-full bg-violet-500/10 flex items-center justify-center":"h-12 w-12 rounded-full bg-violet-50 flex items-center justify-center",children:e.jsx(et,{className:"size-6 text-violet-500"})})]})})})]}),!y&&i.locked?e.jsx(x,{className:t==="premium-dark"?"bg-green-500/10 border-green-500/30 rounded-2xl":"bg-green-50 border-green-200 rounded-2xl",children:e.jsx(h,{className:"pt-6 pb-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:t==="premium-dark"?"h-12 w-12 rounded-xl bg-green-500/20 border border-green-500/30 flex items-center justify-center flex-shrink-0":"h-12 w-12 rounded-xl bg-green-100 flex items-center justify-center flex-shrink-0",children:e.jsx(U,{className:t==="premium-dark"?"size-5 text-green-400":"size-5 text-green-700"})}),e.jsxs("div",{children:[e.jsx("h3",{className:t==="premium-dark"?"text-green-400":"text-green-900",children:"Reconciliation Locked"}),e.jsxs("p",{className:t==="premium-dark"?"text-sm text-green-400/70 mt-1":"text-sm text-green-700 mt-1",children:["This reconciliation has been saved and locked for ",D.find(s=>s.id===l)?.name," - ",n,".",i.lockedAt&&e.jsxs("span",{className:"block mt-1",children:["Locked on: ",new Date(i.lockedAt).toLocaleString()]})]})]})]}),e.jsx(p,{onClick:He,disabled:T||y,variant:"outline",className:t==="premium-dark"?"gap-2 bg-green-500/10 border-green-500/30 text-green-400 hover:bg-green-500/20 rounded-full flex-shrink-0":"gap-2 border-green-300 hover:bg-green-100 rounded-full flex-shrink-0",children:T?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"size-4 animate-spin"}),"Unlocking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"size-4"}),"Update Reconciliation"]})})]})})}):e.jsx(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/10 rounded-2xl":"bg-gray-50 border-gray-200 rounded-2xl",children:e.jsx(h,{className:"pt-6 pb-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:t==="premium-dark"?"h-12 w-12 rounded-xl bg-white/5 flex items-center justify-center flex-shrink-0":"h-12 w-12 rounded-xl bg-white flex items-center justify-center flex-shrink-0",children:e.jsx(be,{className:t==="premium-dark"?"size-5 text-white/60":"size-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:t==="premium-dark"?"text-white":"text-gray-900",children:"Please Review Before Saving"}),e.jsxs("p",{className:t==="premium-dark"?"text-sm text-gray-400 mt-1":"text-sm text-gray-500 mt-1",children:["Carefully review the reconciliation results above to ensure accuracy. Once locked, this reconciliation will be saved for ",D.find(s=>s.id===l)?.name," - ",n,"."]})]})]}),e.jsx(p,{onClick:Ke,disabled:T||y,variant:"outline",className:t==="premium-dark"?"gap-2 bg-white text-black hover:bg-white/90 rounded-full flex-shrink-0 border-0":"gap-2 bg-black text-white hover:bg-gray-900 rounded-full flex-shrink-0 border-0",children:T?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"size-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"size-4"}),"Save & Lock"]})})]})})}),e.jsxs(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/5 rounded-2xl":"bg-white border-gray-100 rounded-2xl",children:[e.jsx(w,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(k,{className:t==="premium-dark"?"text-white":"",children:"Reconciliation Details"}),e.jsx($,{className:t==="premium-dark"?"text-gray-400":"",children:"AI-matched vendor transactions with AP ledger entries"})]}),e.jsx(p,{variant:"outline",onClick:We,disabled:ue,className:t==="premium-dark"?"gap-2 bg-white/[0.03] border-white/10 text-white hover:bg-white/[0.05]":"gap-2",children:ue?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"size-4 animate-spin"}),"Exporting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"size-4"}),"Export"]})})]})}),e.jsxs(h,{children:[i.matched_pairs.length>0&&e.jsxs(x,{className:t==="premium-dark"?"bg-white/[0.03] border-white/5 rounded-2xl":"bg-white border-gray-100 rounded-2xl",children:[e.jsx(w,{className:t==="premium-dark"?"border-b border-white/5":"border-b bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{className:t==="premium-dark"?"text-base text-white":"text-base",children:"Matched Transactions"}),e.jsx(M,{variant:"secondary",className:t==="premium-dark"?"bg-white/[0.05] text-white border-0":"bg-gray-100 text-gray-600",children:i.matched_pairs.length})]})}),e.jsxs(h,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:t==="premium-dark"?"bg-white/[0.02] border-b border-white/5":"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Date"}),e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Description"}),e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Amount"}),e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Type"}),e.jsx("th",{className:t==="premium-dark"?"text-left py-3 px-6 text-xs text-purple-300/40 font-medium":"text-left py-3 px-6 text-xs text-gray-500 font-medium",children:"Confidence"}),e.jsx("th",{className:t==="premium-dark"?"text-center py-3 px-6 text-xs text-purple-300/40 font-medium":"text-center py-3 px-6 text-xs text-gray-500 font-medium"})]})}),e.jsx("tbody",{children:(G?i.matched_pairs:i.matched_pairs.slice(0,10)).map((s,r)=>e.jsxs(o.Fragment,{children:[e.jsxs("tr",{className:t==="premium-dark"?"border-b border-white/5 hover:bg-white/[0.02] cursor-pointer transition-colors":"border-b hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>Re(Y===r?null:r),children:[e.jsx("td",{className:t==="premium-dark"?"py-4 px-6 text-sm text-gray-400":"py-4 px-6 text-sm text-gray-600",children:s.vendor_transaction.date}),e.jsx("td",{className:t==="premium-dark"?"py-4 px-6 text-sm text-white":"py-4 px-6 text-sm text-gray-900",children:s.vendor_transaction.description}),e.jsxs("td",{className:t==="premium-dark"?"py-4 px-6 text-sm text-white font-medium":"py-4 px-6 text-sm text-gray-900 font-medium",children:["â‚¬",L(Math.abs(s.vendor_transaction.amount))]}),e.jsx("td",{className:"py-4 px-6",children:e.jsx(M,{variant:"outline",className:t==="premium-dark"?"bg-white/[0.05] text-white border-white/10":"bg-gray-50 text-gray-600 border-gray-200",children:s.match_type==="exact_match"?"exact":s.match_type==="deterministic_multi"?"1:many":s.match_type==="ai_fuzzy_multi"?"AI multi":s.match_type==="ai_fuzzy"?"AI":s.match_type})}),e.jsxs("td",{className:"py-4 px-6 text-sm text-gray-600",children:[s.match_confidence,"%"]}),e.jsx("td",{className:"py-4 px-6 text-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:Y===r?"â–²":"â–¼"})})]}),e.jsx(tt,{children:Y===r&&e.jsx(st.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx("td",{colSpan:6,className:"bg-gray-50 px-6 py-4 border-b",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-2",children:"Matched Ledger Entries:"}),s.ap_entries.map((a,d)=>e.jsx("div",{className:"bg-white border border-gray-200 rounded px-3 py-2 text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900",children:a.description}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.date,a.vendor&&` â€¢ Vendor: ${a.vendor}`,a.invoiceNumber&&` â€¢ Invoice: ${a.invoiceNumber}`]})]}),e.jsxs("p",{className:"text-gray-900 font-medium ml-4",children:["â‚¬",L(Math.abs(a.amount))]})]})},d))]})})})})]},r))})]})}),i.matched_pairs.length>10&&e.jsx("div",{className:"border-t bg-gray-50 py-3 text-center",children:e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>Fe(!G),className:"text-sm",children:G?"Show Less":`Show All ${i.matched_pairs.length} Matches`})})]})]}),i.unmatched_vendor.length>0&&e.jsxs(x,{children:[e.jsxs(w,{children:[e.jsx(k,{className:"text-yellow-600",children:"Unmatched Vendor Transactions"}),e.jsxs($,{children:[i.unmatched_vendor.length," transactions not found in AP ledger"]})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-3",children:i.unmatched_vendor.map((s,r)=>e.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Q,{className:"size-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-900",children:s.transaction.description}),e.jsx("p",{className:"text-xs text-gray-500",children:s.transaction.date}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:s.suggested_action})]})]}),e.jsxs("p",{className:"text-sm text-gray-900",children:["â‚¬",L(s.transaction.amount)]})]})},r))})})]}),i.unmatched_ap.length>0&&e.jsxs(x,{children:[e.jsxs(w,{children:[e.jsx(k,{className:"text-orange-600",children:"Unmatched AP Ledger Entries"}),e.jsxs($,{children:[i.unmatched_ap.length," entries not found in vendor statements"]})]}),e.jsx(h,{children:e.jsx("div",{className:"space-y-3",children:i.unmatched_ap.map((s,r)=>e.jsx("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(be,{className:"size-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-900",children:s.entry.description}),e.jsx("p",{className:"text-xs text-gray-500",children:s.entry.date}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:s.reason})]})]}),e.jsxs("p",{className:"text-sm text-gray-900",children:["â‚¬",L(s.entry.amount)]})]})},r))})})]})]})]})]})]})]}):e.jsx(x,{children:e.jsxs(h,{className:"py-12 text-center text-gray-500",children:[e.jsx(rt,{className:"size-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{children:"Please select a company and period to get started."})]})})]})}export{Rt as APReconciliation};
