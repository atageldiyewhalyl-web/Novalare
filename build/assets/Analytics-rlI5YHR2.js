import{c as yt,ad as C,s as h,g as xt,r as K,j as i,z as fe,p as zt,b as Wt,ae as Vt,a as Ht,D as Ut,a3 as Ze,l as qt,F as Gt,k as Zt}from"./index-DrBwAU1T.js";import{C as U,b as q,c as G,a as Z,d as ye}from"./card-Cmu1fk5m.js";import{B as Ee}from"./badge-BVkw5bJj.js";import{T as Yt,a as Xt,b as De,c as Re}from"./tabs-B1Vb_bsc.js";import{f as O,r as gt,c as Jt,d as bt,e as Qt,i as Y,g as qe,p as M,L as N,h as jt,j as Ge,k as At,D as Pt,l as Ot,m as z,n as X,S as er,A as wt,o as tr,q as ee,s as kt,t as ie,u as St,v as Nt,G as _t,w as ge,x as Tt,b as Et,y as rr,z as xe,E as Ye,F as nr,H as ar,I as Xe,J as Dt,X as Be,Y as Ke,K as ir,M as sr,R as Le,B as or,C as Je,T as $e,N as Qe,a as et}from"./BarChart-BMGQDrva.js";import"./DevPortal--LMNXygJ.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],cr=yt("activity",lr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Ie=yt("inbox",ur);var dr=["points","className","baseLinePoints","connectNulls"];function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}function fr(e,t){if(e==null)return{};var n=pr(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pr(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tt(e){return yr(e)||vr(e)||hr(e)||mr()}function mr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hr(e,t){if(e){if(typeof e=="string")return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}}function vr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yr(e){if(Array.isArray(e))return Me(e)}function Me(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rt=function(t){return t&&t.x===+t.x&&t.y===+t.y},xr=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){rt(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),rt(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},pe=function(t,n){var r=xr(t);n&&(r=[r.reduce(function(o,s){return[].concat(tt(o),tt(s))},[])]);var a=r.map(function(o){return o.reduce(function(s,c,d){return"".concat(s).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},gr=function(t,n,r){var a=pe(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(pe(n.reverse(),r).slice(1))},br=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,o=t.connectNulls,s=fr(t,dr);if(!n||!n.length)return null;var c=C("recharts-polygon",r);if(a&&a.length){var d=s.stroke&&s.stroke!=="none",u=gr(n,a,o);return h.createElement("g",{className:c},h.createElement("path",se({},O(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),d?h.createElement("path",se({},O(s,!0),{fill:"none",d:pe(n,o)})):null,d?h.createElement("path",se({},O(s,!0),{fill:"none",d:pe(a,o)})):null)}var p=pe(n,o);return h.createElement("path",se({},O(s,!0),{fill:p.slice(-1)==="Z"?s.fill:"none",className:c,d:p}))},Ce,nt;function jr(){if(nt)return Ce;nt=1;var e=gt(),t=Jt(),n=bt();function r(a,o){return a&&a.length?e(a,n(o,2),t):void 0}return Ce=r,Ce}var Ar=jr();const Pr=xt(Ar);var Fe,at;function Or(){if(at)return Fe;at=1;var e=gt(),t=bt(),n=Qt();function r(a,o){return a&&a.length?e(a,t(o,2),n):void 0}return Fe=r,Fe}var wr=Or();const kr=xt(wr);var Sr=["cx","cy","angle","ticks","axisLine"],Nr=["ticks","tick","angle","tickFormatter","stroke"];function le(e){"@babel/helpers - typeof";return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(e)}function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?it(Object(n),!0).forEach(function(r){we(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function st(e,t){if(e==null)return{};var n=_r(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _r(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lt(r.key),r)}}function Er(e,t,n){return t&&ot(e.prototype,t),n&&ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dr(e,t,n){return t=je(t),Rr(e,Rt()?Reflect.construct(t,n||[],je(e).constructor):t.apply(e,n))}function Rr(e,t){if(t&&(le(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rt=function(){return!!e})()}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},je(e)}function $r(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ze(e,t)}function ze(e,t){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ze(e,t)}function we(e,t,n){return t=Lt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e){var t=Ir(e,"string");return le(t)=="symbol"?t:t+""}function Ir(e,t){if(le(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(le(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ke=(function(e){function t(){return Tr(this,t),Dr(this,t,arguments)}return $r(t,e),Er(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,o=this.props,s=o.angle,c=o.cx,d=o.cy;return M(c,d,a,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,o=r.cy,s=r.angle,c=r.ticks,d=Pr(c,function(p){return p.coordinate||0}),u=kr(c,function(p){return p.coordinate||0});return{cx:a,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,s=r.angle,c=r.ticks,d=r.axisLine,u=st(r,Sr),p=c.reduce(function(f,l){return[Math.min(f[0],l.coordinate),Math.max(f[1],l.coordinate)]},[1/0,-1/0]),v=M(a,o,p[0],s),y=M(a,o,p[1],s),b=J(J(J({},O(u,!1)),{},{fill:"none"},O(d,!1)),{},{x1:v.x,y1:v.y,x2:y.x,y2:y.y});return h.createElement("line",me({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,s=a.tick,c=a.angle,d=a.tickFormatter,u=a.stroke,p=st(a,Nr),v=this.getTickTextAnchor(),y=O(p,!1),b=O(s,!1),f=o.map(function(l,m){var x=r.getTickValueCoord(l),g=J(J(J(J({textAnchor:v,transform:"rotate(".concat(90-c,", ").concat(x.x,", ").concat(x.y,")")},y),{},{stroke:"none",fill:u},b),{},{index:m},x),{},{payload:l});return h.createElement(N,me({className:C("recharts-polar-radius-axis-tick",jt(s)),key:"tick-".concat(l.coordinate)},Ge(r.props,l,m)),t.renderTickItem(s,g,d?d(l.value,m):l.value))});return h.createElement(N,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.axisLine,s=r.tick;return!a||!a.length?null:h.createElement(N,{className:C("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),At.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,o){var s;return h.isValidElement(r)?s=h.cloneElement(r,a):Y(r)?s=r(a):s=h.createElement(qe,me({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])})(K.PureComponent);we(ke,"displayName","PolarRadiusAxis");we(ke,"axisType","radiusAxis");we(ke,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ce(e){"@babel/helpers - typeof";return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(e)}function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lt(Object(n),!0).forEach(function(r){Se(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,It(r.key),r)}}function Fr(e,t,n){return t&&ct(e.prototype,t),n&&ct(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Br(e,t,n){return t=Ae(t),Kr(e,$t()?Reflect.construct(t,n||[],Ae(e).constructor):t.apply(e,n))}function Kr(e,t){if(t&&(ce(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mr(e)}function Mr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($t=function(){return!!e})()}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ae(e)}function zr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&We(e,t)}function We(e,t){return We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},We(e,t)}function Se(e,t,n){return t=It(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e){var t=Wr(e,"string");return ce(t)=="symbol"?t:t+""}function Wr(e,t){if(ce(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ce(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vr=Math.PI/180,ut=1e-5,Ne=(function(e){function t(){return Cr(this,t),Br(this,t,arguments)}return zr(t,e),Fr(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,o=a.cx,s=a.cy,c=a.radius,d=a.orientation,u=a.tickSize,p=u||8,v=M(o,s,c,r.coordinate),y=M(o,s,c+(d==="inner"?-1:1)*p,r.coordinate);return{x1:v.x,y1:v.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,o=Math.cos(-r.coordinate*Vr),s;return o>ut?s=a==="outer"?"start":"end":o<-ut?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,s=r.radius,c=r.axisLine,d=r.axisLineType,u=Q(Q({},O(this.props,!1)),{},{fill:"none"},O(c,!1));if(d==="circle")return h.createElement(Pt,te({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:o,r:s}));var p=this.props.ticks,v=p.map(function(y){return M(a,o,s,y.coordinate)});return h.createElement(br,te({className:"recharts-polar-angle-axis-line"},u,{points:v}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,s=a.tick,c=a.tickLine,d=a.tickFormatter,u=a.stroke,p=O(this.props,!1),v=O(s,!1),y=Q(Q({},p),{},{fill:"none"},O(c,!1)),b=o.map(function(f,l){var m=r.getTickLineCoord(f),x=r.getTickTextAnchor(f),g=Q(Q(Q({textAnchor:x},p),{},{stroke:"none",fill:u},v),{},{index:l,payload:f,x:m.x2,y:m.y2});return h.createElement(N,te({className:C("recharts-polar-angle-axis-tick",jt(s)),key:"tick-".concat(f.coordinate)},Ge(r.props,f,l)),c&&h.createElement("line",te({className:"recharts-polar-angle-axis-tick-line"},y,m)),s&&t.renderTickItem(s,g,d?d(f.value,l):f.value))});return h.createElement(N,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!a||!a.length?null:h.createElement(N,{className:C("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,o){var s;return h.isValidElement(r)?s=h.cloneElement(r,a):Y(r)?s=r(a):s=h.createElement(qe,te({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])})(K.PureComponent);Se(Ne,"displayName","PolarAngleAxis");Se(Ne,"axisType","angleAxis");Se(Ne,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var be;function ue(e){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(e)}function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dt(Object(n),!0).forEach(function(r){$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ft(r.key),r)}}function Ur(e,t,n){return t&&ft(e.prototype,t),n&&ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qr(e,t,n){return t=Pe(t),Gr(e,Ct()?Reflect.construct(t,n||[],Pe(e).constructor):t.apply(e,n))}function Gr(e,t){if(t&&(ue(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(e)}function Zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ct=function(){return!!e})()}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pe(e)}function Yr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ve(e,t)}function Ve(e,t){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ve(e,t)}function $(e,t,n){return t=Ft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){var t=Xr(e,"string");return ue(t)=="symbol"?t:t+""}function Xr(e,t){if(ue(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ue(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var W=(function(e){function t(n){var r;return Hr(this,t),r=qr(this,t,[n]),$(r,"pieRef",null),$(r,"sectorRefs",[]),$(r,"id",Nt("recharts-pie-")),$(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Y(a)&&a()}),$(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Y(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Yr(t,e),Ur(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,c=o.labelLine,d=o.dataKey,u=o.valueKey,p=O(this.props,!1),v=O(s,!1),y=O(c,!1),b=s&&s.offsetRadius||20,f=r.map(function(l,m){var x=(l.startAngle+l.endAngle)/2,g=M(l.cx,l.cy,l.outerRadius+b,x),A=j(j(j(j({},p),l),{},{stroke:"none"},v),{},{index:m,textAnchor:t.getTextAnchor(g.x,l.cx)},g),_=j(j(j(j({},p),l),{},{fill:"none",stroke:l.fill},y),{},{index:m,points:[M(l.cx,l.cy,l.outerRadius,x),g]}),P=d;return z(d)&&z(u)?P="value":z(d)&&(P=u),h.createElement(N,{key:"label-".concat(l.startAngle,"-").concat(l.endAngle,"-").concat(l.midAngle,"-").concat(m)},c&&t.renderLabelLineItem(c,_,"line"),t.renderLabelItem(s,A,X(l,P)))});return h.createElement(N,{className:"recharts-pie-labels"},f)}},{key:"renderSectorsStatically",value:function(r){var a=this,o=this.props,s=o.activeShape,c=o.blendStroke,d=o.inactiveShape;return r.map(function(u,p){if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var v=a.isActiveIndex(p),y=d&&a.hasActiveIndex()?d:null,b=v?s:y,f=j(j({},u),{},{stroke:c?u.fill:u.stroke,tabIndex:-1});return h.createElement(N,oe({ref:function(m){m&&!a.sectorRefs.includes(m)&&a.sectorRefs.push(m)},tabIndex:-1,className:"recharts-pie-sector"},Ge(a.props,u,p),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(p)}),h.createElement(er,oe({option:b,isActive:v,shapeType:"sector"},f)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,o=a.sectors,s=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,p=a.animationId,v=this.state,y=v.prevSectors,b=v.prevIsAnimationActive;return h.createElement(wt,{begin:c,duration:d,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(f){var l=f.t,m=[],x=o&&o[0],g=x.startAngle;return o.forEach(function(A,_){var P=y&&y[_],T=_>0?tr(A,"paddingAngle",0):0;if(P){var E=ee(P.endAngle-P.startAngle,A.endAngle-A.startAngle),w=j(j({},A),{},{startAngle:g+T,endAngle:g+E(l)+T});m.push(w),g=w.endAngle}else{var R=A.endAngle,S=A.startAngle,F=ee(0,R-S),k=F(l),L=j(j({},A),{},{startAngle:g+T,endAngle:g+k+T});m.push(L),g=L.endAngle}}),h.createElement(N,null,r.renderSectorsStatically(m))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&a&&a.length&&(!s||!kt(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,o=a.hide,s=a.sectors,c=a.className,d=a.label,u=a.cx,p=a.cy,v=a.innerRadius,y=a.outerRadius,b=a.isAnimationActive,f=this.state.isAnimationFinished;if(o||!s||!s.length||!ie(u)||!ie(p)||!ie(v)||!ie(y))return null;var l=C("recharts-pie",c);return h.createElement(N,{tabIndex:this.props.rootTabIndex,className:l,ref:function(x){r.pieRef=x}},this.renderSectors(),d&&this.renderLabels(s),At.renderCallByParent(this.props,null,!1),(!b||f)&&St.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,o){if(h.isValidElement(r))return h.cloneElement(r,a);if(Y(r))return r(a);var s=C("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return h.createElement(Ot,oe({},a,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,a,o){if(h.isValidElement(r))return h.cloneElement(r,a);var s=o;if(Y(r)&&(s=r(a),h.isValidElement(s)))return s;var c=C("recharts-pie-label-text",typeof r!="boolean"&&!Y(r)?r.className:"");return h.createElement(qe,oe({},a,{alignmentBaseline:"middle",className:c}),s)}}])})(K.PureComponent);be=W;$(W,"displayName","Pie");$(W,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!_t.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$(W,"parseDeltaAngle",function(e,t){var n=ge(t-e),r=Math.min(Math.abs(t-e),360);return n*r});$(W,"getRealPieData",function(e){var t=e.data,n=e.children,r=O(e,!1),a=Tt(n,Et);return t&&t.length?t.map(function(o,s){return j(j(j({payload:o},r),o),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(o){return j(j({},r),o.props)}):[]});$(W,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,o=t.height,s=rr(a,o),c=r+xe(e.cx,a,a/2),d=n+xe(e.cy,o,o/2),u=xe(e.innerRadius,s,0),p=xe(e.outerRadius,s,s*.8),v=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:p,maxRadius:v}});$(W,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?j(j({},t.type.defaultProps),t.props):t.props,a=be.getRealPieData(r);if(!a||!a.length)return null;var o=r.cornerRadius,s=r.startAngle,c=r.endAngle,d=r.paddingAngle,u=r.dataKey,p=r.nameKey,v=r.valueKey,y=r.tooltipType,b=Math.abs(r.minAngle),f=be.parseCoordinateOfPie(r,n),l=be.parseDeltaAngle(s,c),m=Math.abs(l),x=u;z(u)&&z(v)?(Ye(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):z(u)&&(Ye(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=v);var g=a.filter(function(w){return X(w,x,0)!==0}).length,A=(m>=360?g:g-1)*d,_=m-g*b-A,P=a.reduce(function(w,R){var S=X(R,x,0);return w+(ie(S)?S:0)},0),T;if(P>0){var E;T=a.map(function(w,R){var S=X(w,x,0),F=X(w,p,R),k=(ie(S)?S:0)/P,L;R?L=E.endAngle+ge(l)*d*(S!==0?1:0):L=s;var V=L+ge(l)*((S!==0?b:0)+k*_),H=(L+V)/2,B=(f.innerRadius+f.outerRadius)/2,_e=[{name:F,value:S,payload:w,dataKey:x,type:y}],Te=M(f.cx,f.cy,B,H);return E=j(j(j({percent:k,cornerRadius:o,name:F,tooltipPayload:_e,midAngle:H,middleRadius:B,tooltipPosition:Te},w),f),{},{value:X(w,x),startAngle:L,endAngle:V,payload:w,paddingAngle:ge(l)*d}),E})}return j(j({},f),{},{sectors:T,data:a})});var Jr=["type","layout","connectNulls","ref"],Qr=["key"];function de(e){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(e)}function pt(e,t){if(e==null)return{};var n=en(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function en(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mt(Object(n),!0).forEach(function(r){I(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function re(e){return an(e)||nn(e)||rn(e)||tn()}function tn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rn(e,t){if(e){if(typeof e=="string")return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}}function nn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function an(e){if(Array.isArray(e))return He(e)}function He(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kt(r.key),r)}}function on(e,t,n){return t&&ht(e.prototype,t),n&&ht(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ln(e,t,n){return t=Oe(t),cn(e,Bt()?Reflect.construct(t,n||[],Oe(e).constructor):t.apply(e,n))}function cn(e,t){if(t&&(de(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return un(e)}function un(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bt=function(){return!!e})()}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oe(e)}function dn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}function Ue(e,t){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ue(e,t)}function I(e,t,n){return t=Kt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e){var t=fn(e,"string");return de(t)=="symbol"?t:t+""}function fn(e,t){if(de(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(de(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ve=(function(e){function t(){var n;sn(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=ln(this,t,[].concat(a)),I(n,"state",{isAnimationFinished:!0,totalLength:0}),I(n,"generateSimpleStrokeDasharray",function(s,c){return"".concat(c,"px ").concat(s-c,"px")}),I(n,"getStrokeDasharray",function(s,c,d){var u=d.reduce(function(x,g){return x+g});if(!u)return n.generateSimpleStrokeDasharray(c,s);for(var p=Math.floor(s/u),v=s%u,y=c-s,b=[],f=0,l=0;f<d.length;l+=d[f],++f)if(l+d[f]>v){b=[].concat(re(d.slice(0,f)),[v-l]);break}var m=b.length%2===0?[0,y]:[y];return[].concat(re(t.repeat(d,p)),re(b),m).map(function(x){return"".concat(x,"px")}).join(", ")}),I(n,"id",Nt("recharts-line-")),I(n,"pathRef",function(s){n.mainCurve=s}),I(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),I(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return dn(t,e),on(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,c=o.xAxis,d=o.yAxis,u=o.layout,p=o.children,v=Tt(p,nr);if(!v)return null;var y=function(l,m){return{x:l.x,y:l.y,value:l.value,errorVal:X(l.payload,m)}},b={clipPath:r?"url(#clipPath-".concat(a,")"):null};return h.createElement(N,b,v.map(function(f){return h.cloneElement(f,{key:"bar-".concat(f.props.dataKey),data:s,xAxis:c,yAxis:d,layout:u,dataPointFormatter:y})}))}},{key:"renderDots",value:function(r,a,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,u=c.points,p=c.dataKey,v=O(this.props,!1),y=O(d,!0),b=u.map(function(l,m){var x=D(D(D({key:"dot-".concat(m),r:3},v),y),{},{index:m,cx:l.x,cy:l.y,value:l.value,dataKey:p,payload:l.payload,points:u});return t.renderDotItem(d,x)}),f={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return h.createElement(N,he({className:"recharts-line-dots",key:"dots"},f),b)}},{key:"renderCurveStatically",value:function(r,a,o,s){var c=this.props,d=c.type,u=c.layout,p=c.connectNulls;c.ref;var v=pt(c,Jr),y=D(D(D({},O(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:d,layout:u,connectNulls:p});return h.createElement(Ot,he({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var o=this,s=this.props,c=s.points,d=s.strokeDasharray,u=s.isAnimationActive,p=s.animationBegin,v=s.animationDuration,y=s.animationEasing,b=s.animationId,f=s.animateNewValues,l=s.width,m=s.height,x=this.state,g=x.prevPoints,A=x.totalLength;return h.createElement(wt,{begin:p,duration:v,isActive:u,easing:y,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var P=_.t;if(g){var T=g.length/c.length,E=c.map(function(k,L){var V=Math.floor(L*T);if(g[V]){var H=g[V],B=ee(H.x,k.x),_e=ee(H.y,k.y);return D(D({},k),{},{x:B(P),y:_e(P)})}if(f){var Te=ee(l*2,k.x),Mt=ee(m/2,k.y);return D(D({},k),{},{x:Te(P),y:Mt(P)})}return D(D({},k),{},{x:k.x,y:k.y})});return o.renderCurveStatically(E,r,a)}var w=ee(0,A),R=w(P),S;if(d){var F="".concat(d).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});S=o.getStrokeDasharray(R,A,F)}else S=o.generateSimpleStrokeDasharray(A,R);return o.renderCurveStatically(c,r,a,{strokeDasharray:S})})}},{key:"renderCurve",value:function(r,a){var o=this.props,s=o.points,c=o.isAnimationActive,d=this.state,u=d.prevPoints,p=d.totalLength;return c&&s&&s.length&&(!u&&p>0||!kt(u,s))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(s,r,a)}},{key:"render",value:function(){var r,a=this.props,o=a.hide,s=a.dot,c=a.points,d=a.className,u=a.xAxis,p=a.yAxis,v=a.top,y=a.left,b=a.width,f=a.height,l=a.isAnimationActive,m=a.id;if(o||!c||!c.length)return null;var x=this.state.isAnimationFinished,g=c.length===1,A=C("recharts-line",d),_=u&&u.allowDataOverflow,P=p&&p.allowDataOverflow,T=_||P,E=z(m)?this.id:m,w=(r=O(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=w.r,S=R===void 0?3:R,F=w.strokeWidth,k=F===void 0?2:F,L=ar(s)?s:{},V=L.clipDot,H=V===void 0?!0:V,B=S*2+k;return h.createElement(N,{className:A},_||P?h.createElement("defs",null,h.createElement("clipPath",{id:"clipPath-".concat(E)},h.createElement("rect",{x:_?y:y-b/2,y:P?v:v-f/2,width:_?b:b*2,height:P?f:f*2})),!H&&h.createElement("clipPath",{id:"clipPath-dots-".concat(E)},h.createElement("rect",{x:y-B/2,y:v-B/2,width:b+B,height:f+B}))):null,!g&&this.renderCurve(T,E),this.renderErrorBar(T,E),(g||s)&&this.renderDots(T,H,E),(!l||x)&&St.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var o=r.length%2!==0?[].concat(re(r),[0]):r,s=[],c=0;c<a;++c)s=[].concat(re(s),re(o));return s}},{key:"renderDotItem",value:function(r,a){var o;if(h.isValidElement(r))o=h.cloneElement(r,a);else if(Y(r))o=r(a);else{var s=a.key,c=pt(a,Qr),d=C("recharts-line-dot",typeof r!="boolean"?r.className:"");o=h.createElement(Pt,he({key:s},c,{className:d}))}return o}}])})(K.PureComponent);I(ve,"displayName","Line");I(ve,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!_t.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});I(ve,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,c=e.bandSize,d=e.displayedData,u=e.offset,p=t.layout,v=d.map(function(y,b){var f=X(y,s);return p==="horizontal"?{x:Xe({axis:n,ticks:a,bandSize:c,entry:y,index:b}),y:z(f)?null:r.scale(f),value:f,payload:y}:{x:z(f)?null:n.scale(f),y:Xe({axis:r,ticks:o,bandSize:c,entry:y,index:b}),value:f,payload:y}});return D({points:v,layout:p},u)});var pn=Dt({chartName:"LineChart",GraphicalChild:ve,axisComponents:[{axisType:"xAxis",AxisComp:Be},{axisType:"yAxis",AxisComp:Ke}],formatAxisMap:ir}),mn=Dt({chartName:"PieChart",GraphicalChild:W,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ne},{axisType:"radiusAxis",AxisComp:ke}],formatAxisMap:sr,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function hn({className:e,...t}){return i.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:i.jsx("table",{"data-slot":"table",className:fe("w-full caption-bottom text-sm",e),...t})})}function vn({className:e,...t}){return i.jsx("thead",{"data-slot":"table-header",className:fe("[&_tr]:border-b",e),...t})}function yn({className:e,...t}){return i.jsx("tbody",{"data-slot":"table-body",className:fe("[&_tr:last-child]:border-0",e),...t})}function vt({className:e,...t}){return i.jsx("tr",{"data-slot":"table-row",className:fe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function ne({className:e,...t}){return i.jsx("th",{"data-slot":"table-head",className:fe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ae({className:e,...t}){return i.jsx("td",{"data-slot":"table-cell",className:fe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function On(){const[e,t]=K.useState([]),[n,r]=K.useState(!0),[a,o]=K.useState(null),[s,c]=K.useState("7d");K.useEffect(()=>{d()},[s]);const d=async()=>{r(!0);try{const l=await fetch(`https://${zt}.supabase.co/functions/v1/make-server-53c2e113/analytics?timeRange=${s}`,{headers:{Authorization:`Bearer ${Wt}`}});if(l.ok){const m=await l.json();t(m.events||[]),o(m.stats||null)}}catch(l){console.error("Failed to fetch analytics:",l)}finally{r(!1)}},u=()=>{const l=JSON.stringify(e,null,2),m=new Blob([l],{type:"application/json"}),x=URL.createObjectURL(m),g=document.createElement("a");g.href=x,g.download=`analytics-${new Date().toISOString()}.json`,g.click(),URL.revokeObjectURL(x)},p=e.reduce((l,m)=>{const x=m.demoType,g=l.find(A=>A.name===x);return g?(g.total+=1,m.success&&(g.successful+=1)):l.push({name:x,total:1,successful:m.success?1:0}),l},[]),v=[{name:"Successful",value:e.filter(l=>l.success).length},{name:"Failed",value:e.filter(l=>!l.success).length}],y=e.sort((l,m)=>new Date(l.timestamp).getTime()-new Date(m.timestamp).getTime()).reduce((l,m)=>{const x=new Date(m.timestamp).toLocaleDateString(),g=l.find(A=>A.date===x);return g?g.runs+=1:l.push({date:x,runs:1}),l},[]),b=l=>l<1024?l+" B":l<1024*1024?(l/1024).toFixed(2)+" KB":(l/(1024*1024)).toFixed(2)+" MB",f=l=>({invoice:"Invoice Processing",pe:"PE 10-K Analysis","bank-rec":"Bank Reconciliation","ap-rec":"AP Reconciliation",expense:"Expense Categorization"})[l]||l;return n?i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})}):!e||e.length===0?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl text-gray-900",children:"Analytics Dashboard"}),i.jsx("p",{className:"text-gray-500 mt-1",children:"Track demo usage and performance metrics"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("select",{value:s,onChange:l=>c(l.target.value),className:"bg-white border border-gray-300 text-gray-900 rounded-lg px-4 py-2 text-sm",children:[i.jsx("option",{value:"24h",children:"Last 24 Hours"}),i.jsx("option",{value:"7d",children:"Last 7 Days"}),i.jsx("option",{value:"30d",children:"Last 30 Days"}),i.jsx("option",{value:"all",children:"All Time"})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center mb-6",children:i.jsx(Vt,{className:"w-10 h-10 text-gray-400"})}),i.jsx("h2",{className:"text-2xl text-gray-900 mb-2",children:"No Analytics Data Yet"}),i.jsx("p",{className:"text-gray-500 text-center max-w-md mb-6",children:"Start using the demo pages to see analytics data here. Each demo run will be tracked automatically."}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 max-w-2xl",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"ðŸ“Š What Gets Tracked:"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 mt-0.5",children:"â€¢"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Demo Type:"})," Invoice Processing, PE Analysis, Bank Rec, etc."]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 mt-0.5",children:"â€¢"}),i.jsxs("span",{children:[i.jsx("strong",{children:"File Metadata:"})," Name, size, type of uploaded files"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 mt-0.5",children:"â€¢"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Success/Failure:"})," Whether processing completed successfully"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 mt-0.5",children:"â€¢"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Processing Time:"})," How long each operation took"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-600 mt-0.5",children:"â€¢"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Timestamps:"})," When each demo was run"]})]})]})]})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl text-gray-900",children:"Analytics Dashboard"}),i.jsx("p",{className:"text-gray-500 mt-1",children:"Track demo usage and performance metrics"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:s,onChange:l=>c(l.target.value),className:"bg-white border border-gray-300 text-gray-900 rounded-lg px-4 py-2 text-sm",children:[i.jsx("option",{value:"24h",children:"Last 24 Hours"}),i.jsx("option",{value:"7d",children:"Last 7 Days"}),i.jsx("option",{value:"30d",children:"Last 30 Days"}),i.jsx("option",{value:"all",children:"All Time"})]}),i.jsxs(Ht,{onClick:u,variant:"outline",size:"sm",children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})]}),a&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs(U,{children:[i.jsxs(q,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(G,{className:"text-sm font-medium text-gray-600",children:"Total Runs"}),i.jsx(cr,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(Z,{children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.totalRuns}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Demo executions"})]})]}),i.jsxs(U,{children:[i.jsxs(q,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(G,{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),i.jsx(Ze,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(Z,{children:[i.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[a.successRate.toFixed(1),"%"]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Successful processing"})]})]}),i.jsxs(U,{children:[i.jsxs(q,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(G,{className:"text-sm font-medium text-gray-600",children:"Avg Processing Time"}),i.jsx(qt,{className:"h-4 w-4 text-orange-600"})]}),i.jsxs(Z,{children:[i.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[a.avgProcessingTime.toFixed(2),"s"]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Per file"})]})]}),i.jsxs(U,{children:[i.jsxs(q,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(G,{className:"text-sm font-medium text-gray-600",children:"Files Processed"}),i.jsx(Gt,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(Z,{children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.totalFiles}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total uploads"})]})]})]}),i.jsxs(Yt,{defaultValue:"overview",className:"space-y-4",children:[i.jsxs(Xt,{children:[i.jsx(De,{value:"overview",children:"Overview"}),i.jsx(De,{value:"events",children:"Event Log"}),i.jsx(De,{value:"trends",children:"Trends"})]}),i.jsx(Re,{value:"overview",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(U,{children:[i.jsxs(q,{children:[i.jsx(G,{className:"text-gray-900",children:"Demo Usage by Type"}),i.jsx(ye,{children:"Total runs per demo type"})]}),i.jsx(Z,{children:p.length>0?i.jsx(Le,{width:"100%",height:300,children:i.jsxs(or,{data:p,children:[i.jsx(Je,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),i.jsx(Be,{dataKey:"name",stroke:"#6b7280",tick:{fill:"#6b7280",fontSize:12}}),i.jsx(Ke,{stroke:"#6b7280",tick:{fill:"#6b7280",fontSize:12}}),i.jsx($e,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px"},labelStyle:{color:"#111827",fontWeight:600}}),i.jsx(Qe,{wrapperStyle:{color:"#6b7280"}}),i.jsx(et,{dataKey:"total",fill:"#3b82f6",name:"Total Runs",radius:[4,4,0,0]}),i.jsx(et,{dataKey:"successful",fill:"#10b981",name:"Successful",radius:[4,4,0,0]})]})}):i.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ie,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No data available"})]})})})]}),i.jsxs(U,{children:[i.jsxs(q,{children:[i.jsx(G,{className:"text-gray-900",children:"Success vs Failure Rate"}),i.jsx(ye,{children:"Overall processing outcomes"})]}),i.jsx(Z,{children:v.some(l=>l.value>0)?i.jsx(Le,{width:"100%",height:300,children:i.jsxs(mn,{children:[i.jsx(W,{data:v,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,percent:m})=>`${l}: ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:v.map((l,m)=>i.jsx(Et,{fill:m===0?"#10b981":"#ef4444"},`cell-${m}`))}),i.jsx($e,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})}):i.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ie,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No data available"})]})})})]})]})}),i.jsx(Re,{value:"events",children:i.jsxs(U,{children:[i.jsxs(q,{children:[i.jsx(G,{className:"text-gray-900",children:"Event Log"}),i.jsx(ye,{children:"Detailed view of all demo executions (showing last 50)"})]}),i.jsx(Z,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(hn,{children:[i.jsx(vn,{children:i.jsxs(vt,{children:[i.jsx(ne,{children:"Timestamp"}),i.jsx(ne,{children:"Demo Type"}),i.jsx(ne,{children:"File Name"}),i.jsx(ne,{children:"Size"}),i.jsx(ne,{children:"Status"}),i.jsx(ne,{children:"Processing Time"})]})}),i.jsx(yn,{children:e.slice(0,50).map(l=>i.jsxs(vt,{children:[i.jsx(ae,{className:"text-gray-700 text-sm",children:new Date(l.timestamp).toLocaleString()}),i.jsx(ae,{children:i.jsx(Ee,{variant:"outline",className:"text-xs",children:f(l.demoType)})}),i.jsx(ae,{className:"text-gray-700 max-w-xs truncate text-sm",children:l.fileName}),i.jsx(ae,{className:"text-gray-600 text-sm",children:b(l.fileSize)}),i.jsx(ae,{children:l.success?i.jsxs(Ee,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[i.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Success"]}):i.jsxs(Ee,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:[i.jsx(Zt,{className:"w-3 h-3 mr-1"}),"Failed"]})}),i.jsx(ae,{className:"text-gray-600 text-sm",children:l.processingTime?`${l.processingTime.toFixed(2)}s`:"-"})]},l.id))})]})})})]})}),i.jsx(Re,{value:"trends",children:i.jsxs(U,{children:[i.jsxs(q,{children:[i.jsx(G,{className:"text-gray-900",children:"Usage Over Time"}),i.jsx(ye,{children:"Demo executions timeline"})]}),i.jsx(Z,{children:y.length>0?i.jsx(Le,{width:"100%",height:400,children:i.jsxs(pn,{data:y,children:[i.jsx(Je,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),i.jsx(Be,{dataKey:"date",stroke:"#6b7280",tick:{fill:"#6b7280",fontSize:12}}),i.jsx(Ke,{stroke:"#6b7280",tick:{fill:"#6b7280",fontSize:12}}),i.jsx($e,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px"},labelStyle:{color:"#111827",fontWeight:600}}),i.jsx(Qe,{wrapperStyle:{color:"#6b7280"}}),i.jsx(ve,{type:"monotone",dataKey:"runs",stroke:"#3b82f6",strokeWidth:3,name:"Demo Runs",dot:{fill:"#3b82f6",r:4}})]})}):i.jsx("div",{className:"flex items-center justify-center h-[400px] text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ie,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No timeline data available"})]})})})]})})]})]})}export{On as Analytics};
